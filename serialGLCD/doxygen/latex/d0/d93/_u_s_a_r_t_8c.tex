\hypertarget{_u_s_a_r_t_8c}{}\section{U\+S\+A\+R\+T.\+c File Reference}
\label{_u_s_a_r_t_8c}\index{USART.c@{USART.c}}
{\ttfamily \#include $<$avr/io.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include \char`\"{}main.\+h\char`\"{}}\newline
{\ttfamily \#include $<$util/delay.\+h$>$}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{_u_s_a_r_t_8c_a17613ca61f75959783e93e51d3d5b3d3}{U\+A\+R\+T0\+\_\+\+Init}} (uint16\+\_\+t baud, char Async\+Double\+Speed, char data\+Length, char Parity, char stopbits)
\item 
void \mbox{\hyperlink{_u_s_a_r_t_8c_a2e6ed1493b83a98f80bf30332a2dedde}{wait\+\_\+while\+\_\+\+U\+A\+R\+T0\+\_\+is\+\_\+busy}} (unsigned int add\+\_\+delay)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{_u_s_a_r_t_8c_a17613ca61f75959783e93e51d3d5b3d3}\label{_u_s_a_r_t_8c_a17613ca61f75959783e93e51d3d5b3d3}} 
\index{USART.c@{USART.c}!UART0\_Init@{UART0\_Init}}
\index{UART0\_Init@{UART0\_Init}!USART.c@{USART.c}}
\subsubsection{\texorpdfstring{UART0\_Init()}{UART0\_Init()}}
{\footnotesize\ttfamily void U\+A\+R\+T0\+\_\+\+Init (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{baud,  }\item[{char}]{Async\+Double\+Speed,  }\item[{char}]{data\+Length,  }\item[{char}]{Parity,  }\item[{char}]{stopbits }\end{DoxyParamCaption})}

\subsubsection*{U\+A\+RT Initialization for Asynchronous serial communication.}

U\+A\+RT specifications (baud rate, data length , parity, stop).

Some values are predefined in \mbox{\hyperlink{main_8h}{main.\+h}} for G\+L\+CD with backpack specifically\+:
\begin{DoxyItemize}
\item baud rate 115200, use double speed prescaller
\item 8bits, no parity
\item F\+\_\+\+C\+PU
\item Setting the baud rate
\begin{DoxyItemize}
\item K is used to take the effect on the prescaller U\+B\+RR when double speed is considered
\item uint16\+\_\+t baud is also prescalled to avoid overflow when high speed bit rate is needed, as per example of Spark\+Fun\textquotesingle{}s serial L\+CD
\end{DoxyItemize}
\item Setting frame format, 8bit, no parity, 1 stop
\begin{DoxyItemize}
\item 1 stop bit is by default. Still better to have setting implemented
\item Parity should consider odd, even as well no parity
\end{DoxyItemize}
\item Enable transmit or/and receive operation
\begin{DoxyItemize}
\item Transmitter is enabled by setting the Transmit Enable (T\+X\+EN) bit in the U\+C\+S\+RnB Register
\item Receiver is enabled by setting the Receive Enable (R\+X\+EN) bit in the U\+C\+S\+RnB Register 
\end{DoxyItemize}
\end{DoxyItemize}\mbox{\Hypertarget{_u_s_a_r_t_8c_a2e6ed1493b83a98f80bf30332a2dedde}\label{_u_s_a_r_t_8c_a2e6ed1493b83a98f80bf30332a2dedde}} 
\index{USART.c@{USART.c}!wait\_while\_UART0\_is\_busy@{wait\_while\_UART0\_is\_busy}}
\index{wait\_while\_UART0\_is\_busy@{wait\_while\_UART0\_is\_busy}!USART.c@{USART.c}}
\subsubsection{\texorpdfstring{wait\_while\_UART0\_is\_busy()}{wait\_while\_UART0\_is\_busy()}}
{\footnotesize\ttfamily void wait\+\_\+while\+\_\+\+U\+A\+R\+T0\+\_\+is\+\_\+busy (\begin{DoxyParamCaption}\item[{unsigned int}]{add\+\_\+delay }\end{DoxyParamCaption})}

\subsubsection*{Wait if U\+S\+A\+RT is busy}

This function checks and wait until U\+S\+A\+RT has finished previous transmission. One should use this each time before loading the transmit buffer U\+D\+Rn with new data. 
\begin{DoxyParams}{Parameters}
{\em add\+\_\+delay} & One may consider an additional delay depends of the receiver needs (e.\+g. serial graphic L\+CD)
\begin{DoxyItemize}
\item in current implementation \char`\"{}add\+\_\+delay\char`\"{} is just used as a true/false condition whether to execute delay or not
\item the delay value in ms is predefined in a macro G\+L\+C\+D\+\_\+\+D\+E\+L\+AY, specifically needed to serial G\+L\+CD
\begin{DoxyItemize}
\item Note!\+: the built-\/in avr delay cycle expects a compile time integer constant, thus it couldn\textquotesingle{}t be transferred by a variable
\item this is why add\+\_\+delay is used only for true/false disposition and not to give the delay value in ms 
\end{DoxyItemize}
\end{DoxyItemize}\\
\hline
\end{DoxyParams}
