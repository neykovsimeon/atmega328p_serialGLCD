\hypertarget{ports__and__pins_8h}{}\section{ports\+\_\+and\+\_\+pins.\+h File Reference}
\label{ports__and__pins_8h}\index{ports\_and\_pins.h@{ports\_and\_pins.h}}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{ports__and__pins_8h_a8e87752e53f833366370b733f25ce098}{I\+N\+P\+UT}}(port,  pin)~port \&= $\sim$(1$<$$<$pin)
\begin{DoxyCompactList}\small\item\em Defines D\+DR register and pin/bit number as an input. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{ports__and__pins_8h_acd77de37e90eeb183f24b8ec0187d6b4}{O\+U\+T\+P\+UT}}(port,  pin)~port $\vert$= (1$<$$<$pin)
\begin{DoxyCompactList}\small\item\em Defines D\+DR register and pin/bit number as an output. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{ports__and__pins_8h_ae940c8ff2fff05f0606ce9000e762af5}{S\+ET}}(port,  pin)~port $\vert$= (1$<$$<$pin)
\begin{DoxyCompactList}\small\item\em Defines P\+O\+RT register and set pin/bit number to H\+I\+GH. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{ports__and__pins_8h_abb997ebe26f642ebbe6f82d48c1deff5}{C\+L\+E\+AR}}(port,  pin)~port \&= $\sim$(1$<$$<$pin)
\begin{DoxyCompactList}\small\item\em Defines P\+O\+RT register and set pin/bit number to L\+OW. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{ports__and__pins_8h_a28b6db0a9f2cd8c50c66bdf94a76e9c2}{T\+O\+G\+G\+LE}}(port,  pin)~port $^\wedge$= (1$<$$<$pin)
\begin{DoxyCompactList}\small\item\em Defines P\+O\+RT register and toggles the bit number. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{ports__and__pins_8h_a00cd49c71499ccba791ba610a02eb179}{R\+E\+AD}}(port,  pin)~(port \& (1$<$$<$pin))
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \{ \mbox{\hyperlink{ports__and__pins_8h_a06fc87d81c62e9abb8790b6e5713c55ba740b6d3054cf1702899d935b0686ef1b}{while\+Pressed}} = 0, 
\mbox{\hyperlink{ports__and__pins_8h_a06fc87d81c62e9abb8790b6e5713c55ba663a1bed435069e7a4eb553731688ce2}{on\+Click}} = 1
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
unsigned char \mbox{\hyperlink{ports__and__pins_8h_ad373262e7cdfbfbe2b584a7f38acd7cb}{read\+\_\+\+P\+I\+Nx\+\_\+digital\+\_\+level}} (unsigned char pinport, unsigned char pin)
\item 
void \mbox{\hyperlink{ports__and__pins_8h_aa58c16af83646ae4540d072e3df1d9a9}{debounce\+Delay\+Init}} ()
\item 
unsigned char \mbox{\hyperlink{ports__and__pins_8h_a861e761259827e0f7317b97af99bca05}{check\+Button\+\_\+with\+Mode}} (unsigned char mode, unsigned char my\+B\+Utton\+\_\+pinport, unsigned char my\+Button, int button\+Delay)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{ports__and__pins_8h_a88bfa0f3b81f3dea157839b0088fbfde}{button\+Pressed\+\_\+delay}}
\item 
int \mbox{\hyperlink{ports__and__pins_8h_abd3fcaba7f125778dce5448749de8c91}{button\+Released\+\_\+delay}}
\item 
unsigned char \mbox{\hyperlink{ports__and__pins_8h_a41096e814b31e499b584dc5cf83626aa}{button\+Pressed}}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{ports__and__pins_8h_abb997ebe26f642ebbe6f82d48c1deff5}\label{ports__and__pins_8h_abb997ebe26f642ebbe6f82d48c1deff5}} 
\index{ports\_and\_pins.h@{ports\_and\_pins.h}!CLEAR@{CLEAR}}
\index{CLEAR@{CLEAR}!ports\_and\_pins.h@{ports\_and\_pins.h}}
\subsubsection{\texorpdfstring{CLEAR}{CLEAR}}
{\footnotesize\ttfamily \#define C\+L\+E\+AR(\begin{DoxyParamCaption}\item[{}]{port,  }\item[{}]{pin }\end{DoxyParamCaption})~port \&= $\sim$(1$<$$<$pin)}



Defines P\+O\+RT register and set pin/bit number to L\+OW. 

\mbox{\Hypertarget{ports__and__pins_8h_a8e87752e53f833366370b733f25ce098}\label{ports__and__pins_8h_a8e87752e53f833366370b733f25ce098}} 
\index{ports\_and\_pins.h@{ports\_and\_pins.h}!INPUT@{INPUT}}
\index{INPUT@{INPUT}!ports\_and\_pins.h@{ports\_and\_pins.h}}
\subsubsection{\texorpdfstring{INPUT}{INPUT}}
{\footnotesize\ttfamily \#define I\+N\+P\+UT(\begin{DoxyParamCaption}\item[{}]{port,  }\item[{}]{pin }\end{DoxyParamCaption})~port \&= $\sim$(1$<$$<$pin)}



Defines D\+DR register and pin/bit number as an input. 

\mbox{\Hypertarget{ports__and__pins_8h_acd77de37e90eeb183f24b8ec0187d6b4}\label{ports__and__pins_8h_acd77de37e90eeb183f24b8ec0187d6b4}} 
\index{ports\_and\_pins.h@{ports\_and\_pins.h}!OUTPUT@{OUTPUT}}
\index{OUTPUT@{OUTPUT}!ports\_and\_pins.h@{ports\_and\_pins.h}}
\subsubsection{\texorpdfstring{OUTPUT}{OUTPUT}}
{\footnotesize\ttfamily \#define O\+U\+T\+P\+UT(\begin{DoxyParamCaption}\item[{}]{port,  }\item[{}]{pin }\end{DoxyParamCaption})~port $\vert$= (1$<$$<$pin)}



Defines D\+DR register and pin/bit number as an output. 

\mbox{\Hypertarget{ports__and__pins_8h_a00cd49c71499ccba791ba610a02eb179}\label{ports__and__pins_8h_a00cd49c71499ccba791ba610a02eb179}} 
\index{ports\_and\_pins.h@{ports\_and\_pins.h}!READ@{READ}}
\index{READ@{READ}!ports\_and\_pins.h@{ports\_and\_pins.h}}
\subsubsection{\texorpdfstring{READ}{READ}}
{\footnotesize\ttfamily \#define R\+E\+AD(\begin{DoxyParamCaption}\item[{}]{port,  }\item[{}]{pin }\end{DoxyParamCaption})~(port \& (1$<$$<$pin))}

Defines P\+I\+Nx register and read the pin value at respective bit number. Logical result\+: \char`\"{}0\char`\"{} if tested pin is \char`\"{}0\char`\"{} and something \char`\"{}$>$0\char`\"{}if the tested pin is \char`\"{}1\char`\"{}. The exact return value if tested pin is 1 would depends of the pin number \mbox{\Hypertarget{ports__and__pins_8h_ae940c8ff2fff05f0606ce9000e762af5}\label{ports__and__pins_8h_ae940c8ff2fff05f0606ce9000e762af5}} 
\index{ports\_and\_pins.h@{ports\_and\_pins.h}!SET@{SET}}
\index{SET@{SET}!ports\_and\_pins.h@{ports\_and\_pins.h}}
\subsubsection{\texorpdfstring{SET}{SET}}
{\footnotesize\ttfamily \#define S\+ET(\begin{DoxyParamCaption}\item[{}]{port,  }\item[{}]{pin }\end{DoxyParamCaption})~port $\vert$= (1$<$$<$pin)}



Defines P\+O\+RT register and set pin/bit number to H\+I\+GH. 

\mbox{\Hypertarget{ports__and__pins_8h_a28b6db0a9f2cd8c50c66bdf94a76e9c2}\label{ports__and__pins_8h_a28b6db0a9f2cd8c50c66bdf94a76e9c2}} 
\index{ports\_and\_pins.h@{ports\_and\_pins.h}!TOGGLE@{TOGGLE}}
\index{TOGGLE@{TOGGLE}!ports\_and\_pins.h@{ports\_and\_pins.h}}
\subsubsection{\texorpdfstring{TOGGLE}{TOGGLE}}
{\footnotesize\ttfamily \#define T\+O\+G\+G\+LE(\begin{DoxyParamCaption}\item[{}]{port,  }\item[{}]{pin }\end{DoxyParamCaption})~port $^\wedge$= (1$<$$<$pin)}



Defines P\+O\+RT register and toggles the bit number. 



\subsection{Enumeration Type Documentation}
\mbox{\Hypertarget{ports__and__pins_8h_a06fc87d81c62e9abb8790b6e5713c55b}\label{ports__and__pins_8h_a06fc87d81c62e9abb8790b6e5713c55b}} 
\subsubsection{\texorpdfstring{anonymous enum}{anonymous enum}}
{\footnotesize\ttfamily anonymous enum}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{whilePressed@{whilePressed}!ports\_and\_pins.h@{ports\_and\_pins.h}}\index{ports\_and\_pins.h@{ports\_and\_pins.h}!whilePressed@{whilePressed}}}\mbox{\Hypertarget{ports__and__pins_8h_a06fc87d81c62e9abb8790b6e5713c55ba740b6d3054cf1702899d935b0686ef1b}\label{ports__and__pins_8h_a06fc87d81c62e9abb8790b6e5713c55ba740b6d3054cf1702899d935b0686ef1b}} 
while\+Pressed&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{onClick@{onClick}!ports\_and\_pins.h@{ports\_and\_pins.h}}\index{ports\_and\_pins.h@{ports\_and\_pins.h}!onClick@{onClick}}}\mbox{\Hypertarget{ports__and__pins_8h_a06fc87d81c62e9abb8790b6e5713c55ba663a1bed435069e7a4eb553731688ce2}\label{ports__and__pins_8h_a06fc87d81c62e9abb8790b6e5713c55ba663a1bed435069e7a4eb553731688ce2}} 
on\+Click&\\
\hline

\end{DoxyEnumFields}


\subsection{Function Documentation}
\mbox{\Hypertarget{ports__and__pins_8h_a861e761259827e0f7317b97af99bca05}\label{ports__and__pins_8h_a861e761259827e0f7317b97af99bca05}} 
\index{ports\_and\_pins.h@{ports\_and\_pins.h}!checkButton\_withMode@{checkButton\_withMode}}
\index{checkButton\_withMode@{checkButton\_withMode}!ports\_and\_pins.h@{ports\_and\_pins.h}}
\subsubsection{\texorpdfstring{checkButton\_withMode()}{checkButton\_withMode()}}
{\footnotesize\ttfamily unsigned char check\+Button\+\_\+with\+Mode (\begin{DoxyParamCaption}\item[{unsigned char}]{mode,  }\item[{unsigned char}]{my\+Button\+\_\+pinport,  }\item[{unsigned char}]{my\+Button,  }\item[{int}]{button\+Delay }\end{DoxyParamCaption})}

\subsubsection*{Push button function with a functional mode definition. Active L\+OW.}


\begin{DoxyItemize}
\item Feasible for buttons directly connected to an input pin (instead of a matrix, etc). Functional mode concept\+:
\begin{DoxyItemize}
\item on\+Click mode\+:
\begin{DoxyItemize}
\item action performed when pressed (active low);
\item next action possible after release and press again (if hold pressed -\/$>$ action is performed once and waits for release);
\item reasonable use case\+: button \char`\"{}enter\char`\"{}, switch on / off feature, etc
\end{DoxyItemize}
\item while\+Pressed mode\+:
\begin{DoxyItemize}
\item action performed when pressed (active low);
\item next action comes in next cycle while button is being kept pressed (no release performed);
\item reasonable use case\+: button \char`\"{}up\char`\"{}, \char`\"{}down\char`\"{}, \char`\"{}forward\char`\"{}, \char`\"{}backward\char`\"{}, \char`\"{}increment\char`\"{}, \char`\"{}decrement\char`\"{}, etc, like in a menu browse buttons "up / down\textquotesingle{}..
\end{DoxyItemize}
\item cycling is provided outside of the function (\textquotesingle{}main\textquotesingle{} while loop, timer interrupt at a time, etc)
\end{DoxyItemize}
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em mode} & Defines functional mode described above, on\+Click or while\+Pressed. Differs on a way whether next action comes only after button was released and pressed again \\
\hline
{\em my\+Button\+\_\+pinport} & This is M\+CU\textquotesingle{}s input pin port respectively (P\+I\+NB, P\+I\+NC, P\+I\+ND) -\/ suppose predefined with an application specific names \\
\hline
{\em my\+Button} & button number (indexed from 0). If buttons on the same port these might be directly the port\textquotesingle{}s pin(bit) number. \\
\hline
{\em button\+Delay} & Predefined debounce delay, would vary depends of the timing of the main loop cycle \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{ports__and__pins_8h_aa58c16af83646ae4540d072e3df1d9a9}\label{ports__and__pins_8h_aa58c16af83646ae4540d072e3df1d9a9}} 
\index{ports\_and\_pins.h@{ports\_and\_pins.h}!debounceDelayInit@{debounceDelayInit}}
\index{debounceDelayInit@{debounceDelayInit}!ports\_and\_pins.h@{ports\_and\_pins.h}}
\subsubsection{\texorpdfstring{debounceDelayInit()}{debounceDelayInit()}}
{\footnotesize\ttfamily void debounce\+Delay\+Init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\subsubsection*{Push button delay containers initialization}


\begin{DoxyItemize}
\item Predefined debounce delay, would vary depends of the timing of the main loop cycle 
\end{DoxyItemize}\mbox{\Hypertarget{ports__and__pins_8h_ad373262e7cdfbfbe2b584a7f38acd7cb}\label{ports__and__pins_8h_ad373262e7cdfbfbe2b584a7f38acd7cb}} 
\index{ports\_and\_pins.h@{ports\_and\_pins.h}!read\_PINx\_digital\_level@{read\_PINx\_digital\_level}}
\index{read\_PINx\_digital\_level@{read\_PINx\_digital\_level}!ports\_and\_pins.h@{ports\_and\_pins.h}}
\subsubsection{\texorpdfstring{read\_PINx\_digital\_level()}{read\_PINx\_digital\_level()}}
{\footnotesize\ttfamily unsigned char read\+\_\+\+P\+I\+Nx\+\_\+digital\+\_\+level (\begin{DoxyParamCaption}\item[{unsigned char}]{pinport,  }\item[{unsigned char}]{pin }\end{DoxyParamCaption})}

\subsubsection*{Digital read the state of a specified pin number of a specified port}


\begin{DoxyItemize}
\item Motivation
\begin{DoxyItemize}
\item R\+E\+AD macro (port \& (1$<$$<$pin)), where port is P\+I\+NC, P\+I\+ND or P\+I\+NB, would return\+:
\begin{DoxyItemize}
\item 0 if the pin is clear (L\+OW state)
\item something $>$ 0 if the pin is set (H\+I\+GH state). The exact value would depends of the pin number (position)
\end{DoxyItemize}
\item In a particular use cases (e.\+g. rotary encoder handler) it is needed to check
\begin{DoxyItemize}
\item current versus previous state of a pin (e.\+g. rotary clk signal)
\item current status of different pins (e.\+g. rotary clk and rotary data signals)
\end{DoxyItemize}
\end{DoxyItemize}
\item Dedicated read\+\_\+\+P\+I\+Nx\+\_\+logical\+\_\+level() functions return 0 if the pin is L\+OW (clear) and return 1 (doesn\textquotesingle{}t depends of the pin position) if the pin is H\+I\+GH
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em pinport} & Identifies respective input pin port (P\+I\+NB, P\+I\+NC, P\+I\+ND), supposed predefined with an application specific names \\
\hline
{\em pin} & Tested input pin (bit) number from a specified port \\
\hline
\end{DoxyParams}


\subsection{Variable Documentation}
\mbox{\Hypertarget{ports__and__pins_8h_a41096e814b31e499b584dc5cf83626aa}\label{ports__and__pins_8h_a41096e814b31e499b584dc5cf83626aa}} 
\index{ports\_and\_pins.h@{ports\_and\_pins.h}!buttonPressed@{buttonPressed}}
\index{buttonPressed@{buttonPressed}!ports\_and\_pins.h@{ports\_and\_pins.h}}
\subsubsection{\texorpdfstring{buttonPressed}{buttonPressed}}
{\footnotesize\ttfamily unsigned char button\+Pressed}

\mbox{\Hypertarget{ports__and__pins_8h_a88bfa0f3b81f3dea157839b0088fbfde}\label{ports__and__pins_8h_a88bfa0f3b81f3dea157839b0088fbfde}} 
\index{ports\_and\_pins.h@{ports\_and\_pins.h}!buttonPressed\_delay@{buttonPressed\_delay}}
\index{buttonPressed\_delay@{buttonPressed\_delay}!ports\_and\_pins.h@{ports\_and\_pins.h}}
\subsubsection{\texorpdfstring{buttonPressed\_delay}{buttonPressed\_delay}}
{\footnotesize\ttfamily int button\+Pressed\+\_\+delay}

\mbox{\Hypertarget{ports__and__pins_8h_abd3fcaba7f125778dce5448749de8c91}\label{ports__and__pins_8h_abd3fcaba7f125778dce5448749de8c91}} 
\index{ports\_and\_pins.h@{ports\_and\_pins.h}!buttonReleased\_delay@{buttonReleased\_delay}}
\index{buttonReleased\_delay@{buttonReleased\_delay}!ports\_and\_pins.h@{ports\_and\_pins.h}}
\subsubsection{\texorpdfstring{buttonReleased\_delay}{buttonReleased\_delay}}
{\footnotesize\ttfamily int button\+Released\+\_\+delay}

